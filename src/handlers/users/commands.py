from loader import dp, bot
from aiogram import types
from aiogram.types import InputMediaVideo
from keyboards.inline import contactus_keyboard, buy_keyboard, catalog_keyboard
from aiogram.utils.markdown import hbold, hlink
from config import video_path_intro
    
@dp.message_handler(text=['–ü—Ä–∏–≤–µ—Ç','–ø—Ä–∏–≤–µ—Ç', '–Ω–∞—á–∞—Ç—å', '–ù–∞—á–∞—Ç—å', '—Å—Ç–∞—Ä—Ç', '–°—Ç–∞—Ä—Ç'])
@dp.message_handler(commands='start')
async def answer_start_command(message: types.Message):
     video = InputMediaVideo(media=video_path_intro) 
     video = open(video_path_intro, 'rb', -1)
     await message.answer(text=f'{message.from_user.first_name}, –ü—Ä–∏–≤–µ—Å—Ç–≤—É–µ–º –≤–∞—Å –≤ {hbold("MiTech Store")}!'
                               f'\n\n–í –∫–∞—Ç–∞–ª–æ–≥–µ —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –º–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑—É—é—â–∏–µ—Å—è –Ω–∞–∏–±–æ–ª—å—à–∏–º —Å–ø—Ä–æ—Å–æ–º, –º—ã —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ –µ–≥–æ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º'
                               f'\n\n{hlink(title="‚Üí –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é –∑–∞–∫–∞–∑–∞ ", url="https://telegra.ph/MiTech-buy-12-09")}\n'
                               f'\n\n{hbold("–ú–µ–Ω—é –±–æ—Ç–∞")}'
                               f'\n/start - –µ—Å–ª–∏ –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã'
                               f'\n/catalog - –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤'
                               f'\n/instock - –ü—Ä–æ—Å–º–æ—Ç—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ –Ω–∞–ª–∏—á–∏–∏'
                               f'\n/buy - –û—Ñ–æ—Ä–æ–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞\n'
                               f'\n\n–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –º–æ–¥–µ–ª—å –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç –≤ –∫–∞—Ç–∞–ª–æ–≥–µ, –Ω–∞–ø–∏—à–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –æ–Ω–∏ –æ—Ç–≤–µ—Ç—è—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã'
                               f'\n‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è',
                               reply_markup=contactus_keyboard, # —Å—Å—ã–ª–∫–∞ —Ç–µ–ª–µ–≥—Ä–∞–º–º –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–æ–≤
                               disable_web_page_preview=True
                        )
     await bot.send_video(chat_id=message.chat.id, video=video)
    
@dp.message_handler(text=['–û—Ñ–æ—Ä–º–∏—Ç—å', '–ó–∞–∫–∞–∑–∞—Ç—å', '–ö—É–ø–∏—Ç—å', '–æ—Ñ–æ—Ä–º–∏—Ç—å', '–∑–∞–∫–∞–∑–∞—Ç—å', '–∫—É–ø–∏—Ç—å'])
@dp.message_handler(commands='buy')
async def answer_buy_command(message: types.Message):
     await message.answer(text=f'üìã –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞'
                               f'\n-----'
                               f'\n1. –í—ã –∑–∞–ø–æ–ª–Ω—è–µ—Ç–µ –∏ —Ä–∞–∑–º–µ—â–∞–µ—Ç–µ –∑–∞–∫–∞–∑ –Ω–∞ –ø–æ–∫—É–ø–∫—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞'
                               f'\n‚ñº'
                               f'\n2. –ú—ã –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –¥–æ–≥–æ–≤–æ—Ä –≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–º –≤–∏–¥–µ, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –µ–≥–æ –≤–∞–º, –µ—Å–ª–∏ –≤—Å–µ –≤–µ—Ä–Ω–æ - –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ–º'
                               f'\n‚ñº'
                               f'\n3. –í—ã –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç–µ –∑–∞–∫–∞–∑ –Ω–∞ –∫–∞—Ä—Ç—É –∏–ª–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É, —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –≤ –¥–æ–≥–æ–≤–æ—Ä–µ'
                               f'\n‚ñº'
                               f'\n4. –ó–∞–∫–∞–∑ —É—Ö–æ–¥–∏—Ç –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É'
                               f'\n\n{hbold("–î–æ—Å—Ç–∞–≤–∫–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ 3 —ç—Ç–∞–ø–∞")}'
                               f'\n‚ñ∂Ô∏è –î–æ—Å—Ç–∞–≤–∫–∞ –∏–∑ –ö–∏—Ç–∞—è –¥–æ –ú–æ—Å–∫–≤—ã –∑–∞–Ω–∏–º–∞–µ—Ç –æ–∫–æ–ª–æ 20 –¥–Ω–µ–π. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤–∞—à –∑–∞–∫–∞–∑ –ø–æ—Å—Ç—É–ø–∞–µ—Ç –∫ –Ω–∞–º –Ω–∞ —Å–∫–ª–∞–¥, –º—ã —Å –≤–∞–º–∏ —Å–≤—è–∑—ã–≤–∞–µ–º—Å—è.'
                               f'\n\n‚ñ∂Ô∏è –í—ã–ø–æ–ª–Ω—è–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω–æ–≥–æ Windows 10/11 Home –∏ Microsoft Office 2021), –Ω–∞–Ω–æ—Å–∏–º –≥—Ä–∞–≤–∏—Ä–æ–≤–∫—É –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É. –ó–∞–Ω–∏–º–∞–µ—Ç 1-4 –¥–Ω—è, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç–∏.'
                               f'\n\n‚ñ∂Ô∏è –£–ø–∞–∫–æ–≤—ã–≤–∞–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –°–î–≠–ö–æ–º –ø–æ –†–§ –∏ —Å—Ç—Ä–∞–Ω–∞–º –°–ù–ì.'
                               f'\n\n{hbold("–ù–∞—à –∞–¥—Ä–µ—Å")}'
                               f'\n–≥. –•–∏–º–∫–∏, —É–ª. –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è 1–î, –æ—Ñ–∏—Å 20',
                               reply_markup=buy_keyboard) 

@dp.message_handler(text=['–ö–∞—Ç–∞–ª–æ–≥', '–∫–∞—Ç–∞–ª–æ–≥'])
@dp.message_handler(commands='catalog')
async def answer_catalog_command(message: types.Message):
     await message.answer(text=f'‚ö°Ô∏è –í –∫–∞—Ç–∞–ª–æ–≥–µ {hbold("–≤—Å–µ —Ü–µ–Ω—ã –Ω–∞ –Ω–æ—É—Ç–±—É–∫–∏")},'
                               f'\n—É–∫–∞–∑–∞–Ω—ã —Å —É—á–µ—Ç–æ–º —É—Å–ª—É–≥ –ø–æ –≥—Ä–∞–≤–∏—Ä–æ–≤–∫–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è!')
     await message.answer(text='–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —É—Å—Ç—Ä–æ–π—Å—Ç–≤',
                          reply_markup=catalog_keyboard)


@dp.message_handler(commands='instock')
async def answer_instock_command(message: types.Message):
     await message.answer(text=f'–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –Ω–∞–ª–∏—á–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–µ—Ç. '
                          f'–í—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è –∑–∞–∫–∞–∑–∞, –æ—Ç–ø—Ä–∞–≤–∏–≤ –∫–æ–º–∞–Ω–¥—É /catalog')

